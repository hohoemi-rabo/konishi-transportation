# 11. アニメーション実装

## 概要
サイト全体のアニメーション・インタラクション効果を実装する。

## 目的
- リッチな表現の実現
- ユーザーエクスペリエンスの向上
- モダンな印象の演出

## アニメーション要件（REQUIREMENTS.md 5.2）

### スクロールトリガーアニメーション
- フェードイン（要素が画面に入るとき）
- スライドイン（左右・上下から）
- ズームイン
- スタガー（順次）アニメーション

### パララックス効果
- ヒーローセクションの背景画像
- セクション間の要素

### ホバーエフェクト
- ボタン（スケール、色変化）
- カード（浮き上がり、シャドウ）
- ナビゲーションリンク

### トランジション効果
- ページ内スクロール（スムーズ）
- ダークモード切り替え
- モバイルメニューの開閉

## Todo

- [x] Framer Motionの基本設定
- [x] スクロールトリガーフックの作成
- [x] フェードインバリアント作成
- [x] スライドインバリアント作成
- [x] パララックスコンポーネント作成
- [x] ホバーエフェクトの定義
- [x] カウントアップアニメーション実装
- [x] プログレスバーアニメーション実装
- [x] ページ遷移アニメーション
- [x] モバイルメニューアニメーション
- [x] パフォーマンス最適化（will-change等）

## 実装内容

### 作成したファイル

1. **src/utils/animations.ts**
   - 共通アニメーションバリアント定義
   - フェードイン、スライドイン、ズームイン
   - スタガーアニメーション
   - ホバーエフェクト
   - モバイルメニューアニメーション

2. **src/hooks/useScrollAnimation.ts**
   - スクロールアニメーション用カスタムフック
   - 複数要素対応

3. **globals.css**
   - スムーズスクロール設定
   - パフォーマンス最適化（will-change）
   - カスタムスクロールバー

### 既に実装済みのアニメーション

- ヒーローセクション：パララックス背景
- 全セクション：スクロールトリガーアニメーション
- カード：ホバーエフェクト
- 数値：カウントアップアニメーション
- プログレスバー：アニメーション
- ヘッダー：スティッキー、アクティブインジケーター
- モバイルメニュー：開閉アニメーション

## アニメーション仕様

### 基本設定
```typescript
// フェードイン
initial: { opacity: 0, y: 20 }
animate: { opacity: 1, y: 0 }
transition: { duration: 0.6 }

// スライドイン
initial: { opacity: 0, x: -50 }
animate: { opacity: 1, x: 0 }

// パララックス
scrollYProgress: 0-1
transform: translateY(-50% to 0%)
```

## 完了条件

- [x] すべてのセクションでスクロールアニメーションが動作する
- [x] パララックス効果がスムーズに動作する
- [x] ホバーエフェクトが適切に実装されている
- [x] アニメーションがパフォーマンスに悪影響を与えていない

## 参照
- REQUIREMENTS.md - 機能要件 (5.2)
