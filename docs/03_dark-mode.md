# 03. ダークモード機能実装

## 概要
ライトモード/ダークモードの切り替え機能を実装する。

## 目的
- ユーザーが手動でモード切り替えできる
- システム設定との連動
- 状態の永続化（localStorage）

## 要件（REQUIREMENTS.md 5.1）
- 手動切り替え機能（ヘッダー右上）
- システム設定連動
- デフォルト: ライトモード

## 技術仕様
- Zustandで状態管理
- LocalStorageで永続化
- `next-themes`は使用せず、カスタム実装

## Todo

- [x] Zustandストアの作成（useDarkModeStore）
- [x] ダークモード状態の管理ロジック実装
- [x] LocalStorageとの同期処理
- [x] システム設定（prefers-color-scheme）の検知
- [x] ダークモードトグルボタンコンポーネント作成
- [ ] ヘッダーへのトグルボタン配置（チケット04で実装）
- [x] アニメーション効果の追加（スムーズな切り替え）
- [x] 初回ロード時のチラつき防止

## 完了条件

- [x] ボタンクリックでライト/ダーク切り替えができる
- [x] ページリロード後も状態が保持される
- [x] システム設定と連動している
- [x] 切り替え時にスムーズなトランジションがある

## 参照
- REQUIREMENTS.md - 機能要件 (5.1)
- docs/design/1_header-hero.png（右上のトグルボタン位置）
